<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" descrption="Lector de CSV" content="Roberto Vargas">
	<link rel="stylesheet" href="miEstilo.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="papaparse.min.js"></script>
	<title> Roberto </title>

	<style>
		h1 {
			text-align: center;
			font-weight: 200;
			text-transform: uppercase;
			border-top: 5px solid;
		}

		body {
			background-color: #ffe4c4;
			font-family: 'Times New Roman';
			font-weight: 100;
		}
	</style>

</head>

<body>

	<section id="informacion">
		<h1>Instituto Tecnológico de Chetumal.</h1>
		<h2>Información del Alumno:</h2>
		<blockquote>
			Nombre: José Roberto Vargas Arano<br>
			Asignatura: Programación web<br>
			Fecha: 29 de junio de 2020<br>
		</blockquote>

	</section>
	<section>

		<h1>Lectura de Archivos CSV</h1>
		<div class="well">
			<div class="row">
				<form class="form-inline">
					<div class="form-group">
						<label>Selecciona O arrastra un archivo en formato CSV:</label>
						<input type="file" id="files" class="form-control" accept=".csv" required  />
					</div>
					
					<div class="form-group">
						<button type="submit" id="submit-file" class="btn btn-primary">Leer CSV</button>
					</div>
				</form>
			</div>
			<div class="row" <div class="row" id="parsed_csv_list">
			</div>
		</div>
		</div>
		</div>

</body>
</section>

</html>






<script type="text/javascript">
	$(document).ready(function () {
		$('#submit-file').on("click", function (e) {
			e.preventDefault();
			$('#files').parse({
				config: {
					delimiter: "auto",
					complete: displayHTMLTable,
				},
				before: function (file, inputElem) {
					console.log("Analizando Archivo...", file);
				},
				error: function (err, file) {
					console.log("el archivo tiene que ser csv:", err, file);
					//alert("tipo de archivo incorrecto",error, file);
				},
				complete: function () {
					console.log("Archivo cargado correctamente");
					alert("Archivo cargado correctamente");
				}
			});
		});
		//Funcion para mostrar la tabla HTML
		function displayHTMLTable(results) {
			var table = "<table class='table'>";
			var data = results.data;

			for (i = 0; i < data.length; i++) {
				table += "<tr>";
				var row = data[i];
				var cells = row.join(",").split(",");

				for (j = 0; j < cells.length; j++) {
					table += "<td>";
					table += cells[j];
					table += "</th>";
				}
				table += "</tr>";
			}
			table += "</table>";
			$("#parsed_csv_list").html(table);
		}
	});
	
	

</script>



<script type="text/javascript">

	/* Chatbot de pruebas para ITCH. */
	(function (d, m) {
		var kommunicateSettings = { "appId": "2495ef65e44eb26bc2d5da9942b318327", "popupWidget": true, "automaticChatOpenOnNavigation": true };
		var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
		s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
		var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
		window.kommunicate = m; m._globals = kommunicateSettings;
	})(document, window.kommunicate || {});

	

</script>